<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In - Floria Premium Flower Boutique</title>
    <meta name="description" content="Sign in to your Floria account to manage orders and wishlist.">
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŒ¸</text></svg>">

    <!-- External CSS -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/auth.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-main">
            <a href="index.html" class="logo">Floria<sub class="small">.com</sub></a>
            <nav class="navbar">
                <a href="index.html#home">Home</a>
                <a href="index.html#shop">Shop By</a>
                <a href="index.html#collections">Collections</a>
                <a href="index.html#services">Services</a>
                <a href="about.html">About</a>
                <a href="contact.html">Contact</a>
            </nav>
            <div class="icons">
                <div id="search-btn" class="fas fa-search"></div>
                <div id="user-btn" class="fas fa-user"></div>
                <div id="cart-btn" class="fas fa-shopping-bag"><span>(0)</span></div>
                <div id="menu-btn" class="fas fa-bars"></div>
            </div>
        </div>
        <form action="" class="search-form">
            <input type="search" id="search-box" placeholder="Search for products...">
            <label for="search-box" class="fas fa-search"></label>
        </form>
    </header>

    <!-- Auth Section -->
    <section class="auth-section">
        <div class="auth-container">
            <div class="auth-visual">
                <div class="visual-content">
                    <div class="flower-icon">ðŸŒ¸</div>
                    <h2>Welcome to Floria</h2>
                    <p>Discover premium flowers and bouquets for every special moment</p>
                    <div class="features">
                        <div class="feature"><i class="fas fa-check-circle"></i> Exclusive member offers</div>
                        <div class="feature"><i class="fas fa-check-circle"></i> Track your orders</div>
                        <div class="feature"><i class="fas fa-check-circle"></i> Save your wishlist</div>
                    </div>
                </div>
            </div>
            <div class="auth-form-container">
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="signin">Sign In</button>
                    <button class="auth-tab" data-tab="signup">Sign Up</button>
                </div>

                <!-- Sign In Form -->
                <form id="signinForm" class="auth-form active">
                    <h2>Welcome Back!</h2>
                    <p class="form-subtitle">Sign in to continue to your account</p>

                    <div class="input-group">
                        <i class="fas fa-envelope"></i>
                        <input type="email" id="signinEmail" placeholder="Email address" required>
                    </div>

                    <div class="input-group">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="signinPassword" placeholder="Password" required>
                        <button type="button" class="toggle-password"><i class="fas fa-eye"></i></button>
                    </div>

                    <div class="form-options">
                        <label class="remember-me">
                            <input type="checkbox" id="rememberMe">
                            <span>Remember me</span>
                        </label>
                        <a href="#" class="forgot-link">Forgot password?</a>
                    </div>

                    <button type="submit" class="auth-btn">
                        <span>Sign In</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>

                    <div class="divider">
                        <span>or continue with</span>
                    </div>

                    <div class="social-auth">
                        <button type="button" class="social-btn google">
                            <i class="fab fa-google"></i>
                        </button>
                        <button type="button" class="social-btn facebook">
                            <i class="fab fa-facebook-f"></i>
                        </button>
                        <button type="button" class="social-btn apple">
                            <i class="fab fa-apple"></i>
                        </button>
                    </div>
                </form>

                <!-- Sign Up Form -->
                <form id="signupForm" class="auth-form">
                    <h2>Create Account</h2>
                    <p class="form-subtitle">Join Floria for exclusive benefits</p>

                    <div class="input-group">
                        <i class="fas fa-user"></i>
                        <input type="text" id="signupName" placeholder="Full name" required>
                    </div>

                    <div class="input-group">
                        <i class="fas fa-envelope"></i>
                        <input type="email" id="signupEmail" placeholder="Email address" required>
                    </div>

                    <div class="input-group">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="signupPassword" placeholder="Password" required>
                        <button type="button" class="toggle-password"><i class="fas fa-eye"></i></button>
                    </div>

                    <div class="input-group">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="confirmPassword" placeholder="Confirm password" required>
                    </div>

                    <label class="terms-checkbox">
                        <input type="checkbox" id="agreeTerms" required>
                        <span>I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a></span>
                    </label>

                    <button type="submit" class="auth-btn">
                        <span>Create Account</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-grid">
            <div class="footer-box about-us">
                <h3>Floria</h3>
                <p>Premium online flower boutique with 99+ beautiful arrangements for every occasion.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
            <div class="footer-box links">
                <h3>Quick Links</h3>
                <a href="index.html">Home</a>
                <a href="index.html#collections">Collections</a>
                <a href="about.html">About Us</a>
                <a href="contact.html">Contact</a>
            </div>
            <div class="footer-box links">
                <h3>Help</h3>
                <a href="#">FAQs</a>
                <a href="#">Shipping Info</a>
                <a href="#">Returns</a>
                <a href="#">Track Order</a>
            </div>
            <div class="footer-box newsletter">
                <h3>Newsletter</h3>
                <p>Subscribe for special offers!</p>
                <form>
                    <input type="email" placeholder="Your email" class="email-input">
                    <button type="submit" class="subscribe-btn">Subscribe</button>
                </form>
            </div>
        </div>
        <div class="credit">Â© 2024 <a href="index.html">Floria</a> | Premium Flower Boutique</div>
    </footer>

    <!-- External JavaScript -->


    <!-- Auth JavaScript -->
    <script>
        // ===== HEADER LOGIC =====
        function initHeader() {
            // Cart Button
            const cartBtn = document.querySelector('#cart-btn');
            if (cartBtn) {
                cartBtn.onclick = (e) => {
                    e.preventDefault();
                    window.location.href = 'cart.html';
                };
            }
            // User Button
            const userBtn = document.querySelector('#user-btn');
            if (userBtn) {
                userBtn.onclick = (e) => {
                    e.preventDefault();
                    const user = JSON.parse(localStorage.getItem('floriaUser')) || JSON.parse(sessionStorage.getItem('floriaUser'));
                    if (user && user.loggedIn) {
                        if (confirm('Sign out?')) {
                            localStorage.removeItem('floriaUser');
                            sessionStorage.removeItem('floriaUser');
                            window.location.reload();
                        }
                    } else {
                        // Already on signin page, maybe toggle mode?
                        window.location.reload(); // simple reset
                    }
                };

                // Update Icon
                const user = JSON.parse(localStorage.getItem('floriaUser')) || JSON.parse(sessionStorage.getItem('floriaUser'));
                if (user && user.loggedIn) userBtn.style.color = '#e84393';
            }
        }
        document.addEventListener('DOMContentLoaded', initHeader);

        // ===== AUTH PAGE FUNCTIONALITY =====
        let cart = JSON.parse(localStorage.getItem('floriaCart')) || [];

        // Update cart count
        function updateCartCount() {
            document.querySelectorAll('#cart-btn span').forEach(span => {
                span.textContent = `(${cart.length})`;
            });
        }

        // Toast notification
        function showToast(message) {
            const existing = document.querySelector('.toast-notification');
            if (existing) existing.remove();

            const toast = document.createElement('div');
            toast.className = 'toast-notification show';
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                bottom: 30px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(45deg, #333, #555);
                color: white;
                padding: 1rem 2rem;
                border-radius: 30px;
                font-weight: 500;
                z-index: 99999;
                font-size: 14px;
            `;
            document.body.appendChild(toast);

            setTimeout(() => toast.remove(), 2500);
        }

        // Tab switching
        document.querySelectorAll('.auth-tab').forEach(tab => {
            tab.addEventListener('click', function () {
                document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));

                this.classList.add('active');
                const formId = this.dataset.tab === 'signin' ? 'signinForm' : 'signupForm';
                document.getElementById(formId).classList.add('active');
            });
        });

        // Toggle password visibility
        document.querySelectorAll('.toggle-password').forEach(btn => {
            btn.addEventListener('click', function () {
                const input = this.previousElementSibling;
                const icon = this.querySelector('i');
                if (input.type === 'password') {
                    input.type = 'text';
                    icon.classList.replace('fa-eye', 'fa-eye-slash');
                } else {
                    input.type = 'password';
                    icon.classList.replace('fa-eye-slash', 'fa-eye');
                }
            });
        });

        // Sign In Form
        document.getElementById('signinForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const email = document.getElementById('signinEmail').value;
            const password = document.getElementById('signinPassword').value;
            const remember = document.getElementById('rememberMe').checked;

            // Simple localStorage auth simulation
            const users = JSON.parse(localStorage.getItem('floriaUsers')) || [];
            const user = users.find(u => u.email === email && u.password === password);

            if (user) {
                const userData = { name: user.name, email: user.email, loggedIn: true };
                if (remember) {
                    localStorage.setItem('floriaUser', JSON.stringify(userData));
                } else {
                    sessionStorage.setItem('floriaUser', JSON.stringify(userData));
                }
                showToast('Welcome back, ' + user.name + '! ðŸŒ¸');
                setTimeout(() => window.location.href = 'index.html', 1500);
            } else {
                // For demo: auto-create account if not found
                const newUser = { name: email.split('@')[0], email, password };
                users.push(newUser);
                localStorage.setItem('floriaUsers', JSON.stringify(users));

                const userData = { name: newUser.name, email: newUser.email, loggedIn: true };
                localStorage.setItem('floriaUser', JSON.stringify(userData));
                showToast('Account created! Welcome to Floria ðŸŒ¸');
                setTimeout(() => window.location.href = 'index.html', 1500);
            }
        });

        // Sign Up Form
        document.getElementById('signupForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPass = document.getElementById('confirmPassword').value;

            if (password !== confirmPass) {
                showToast('Passwords do not match!');
                return;
            }

            if (password.length < 6) {
                showToast('Password must be at least 6 characters');
                return;
            }

            const users = JSON.parse(localStorage.getItem('floriaUsers')) || [];
            if (users.find(u => u.email === email)) {
                showToast('Email already registered. Please sign in.');
                return;
            }

            users.push({ name, email, password });
            localStorage.setItem('floriaUsers', JSON.stringify(users));

            const userData = { name, email, loggedIn: true };
            localStorage.setItem('floriaUser', JSON.stringify(userData));

            showToast('Welcome to Floria, ' + name + '! ðŸŒ¸');
            setTimeout(() => window.location.href = 'index.html', 1500);
        });

        // Social auth buttons (demo)
        document.querySelectorAll('.social-btn').forEach(btn => {
            btn.addEventListener('click', function () {
                showToast('Social login coming soon!');
            });
        });

        // Header functionality
        const menu = document.querySelector('#menu-btn');
        const navbar = document.querySelector('.navbar');
        const searchForm = document.querySelector('.search-form');

        if (menu) {
            menu.onclick = () => {
                menu.classList.toggle('fa-times');
                navbar.classList.toggle('active');
                searchForm?.classList.remove('active');
            };
        }

        document.querySelector('#search-btn')?.addEventListener('click', () => {
            searchForm?.classList.toggle('active');
            menu?.classList.remove('fa-times');
            navbar?.classList.remove('active');
        });

        document.querySelector('#cart-btn')?.addEventListener('click', () => {
            window.location.href = 'cart.html';
        });

        document.querySelector('#user-btn')?.addEventListener('click', () => {
            // Already on auth page
            showToast('You are on the sign in page');
        });

        // Check if already logged in
        const user = JSON.parse(localStorage.getItem('floriaUser')) || JSON.parse(sessionStorage.getItem('floriaUser'));
        if (user && user.loggedIn) {
            window.location.href = 'index.html';
        }

        updateCartCount();
    </script>
</body>

</html>